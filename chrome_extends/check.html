<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>带选择功能的表格</title>
    <style>
      table {
        width: 50%;
        border-collapse: collapse;
        margin: 20px;
      }

      th,
      td {
        border: 1px solid #000;
        padding: 10px;
        text-align: center;
      }

      th {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <body>
    <table>
      <thead>
        <tr>
          <th><input type="checkbox" id="selectAll" /> 全选</th>
          <th>项目名称</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><input type="checkbox" class="item-checkbox" /></td>
          <td>项目1</td>
          <td>描述1</td>
        </tr>
        <tr>
          <td><input type="checkbox" class="item-checkbox" /></td>
          <td>项目2</td>
          <td>描述2</td>
        </tr>
        <tr>
          <td><input type="checkbox" class="item-checkbox" /></td>
          <td>项目3</td>
          <td>描述3</td>
        </tr>
        <tr>
          <td><input type="checkbox" class="item-checkbox" /></td>
          <td>项目4</td>
          <td>描述4</td>
        </tr>
        <tr>
          <td><input type="checkbox" class="item-checkbox" /></td>
          <td>项目5</td>
          <td>描述5</td>
        </tr>
      </tbody>
    </table>

    <script>
      // 获取全选复选框和所有项目的复选框
      const selectAllCheckbox = document.getElementById("selectAll");
      const itemCheckboxes = document.querySelectorAll(".item-checkbox");

      // 全选/取消全选功能
      selectAllCheckbox.addEventListener("change", function () {
        const isChecked = this.checked; // 获取全选框的选中状态
        itemCheckboxes.forEach((checkbox) => {
          checkbox.checked = isChecked; // 设置每个项目复选框的状态
        });
      });

      // 单个复选框的选择和取消全选功能
      itemCheckboxes.forEach((checkbox) => {
        checkbox.addEventListener("change", function () {
          // 检查是否所有项目的复选框都被选中
          const allChecked = [...itemCheckboxes].every(
            (checkbox) => checkbox.checked
          );
          // 更新全选框的状态
          selectAllCheckbox.checked = allChecked;

          // 如果不是全部选中，但有一个选中，则取消全选框的“中间状态”
          const someChecked = [...itemCheckboxes].some(
            (checkbox) => checkbox.checked
          );
          selectAllCheckbox.indeterminate = !allChecked && someChecked;
        });
      });

      // const fs = require("fs");
      // const path = require("path");

      // // 目标文件路径
      // const filePath = "./aa/bb/json.txt";

      // // 提取目录部分（不包括文件名）
      // const dirPath = path.dirname(filePath);
      // console.log(dirPath);
      // // 创建目录（如果不存在）
      // if (!fs.existsSync(dirPath)) {
      //   fs.mkdirSync(dirPath, { recursive: true });
      // }

      // // 写入文件
      // fs.writeFileSync(filePath, "xxx");

      // console.log("文件已写入成功");
    </script>
  </body>
</html>
