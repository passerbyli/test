import{_ as U,d as k,c as y,e as p,a as e,w as o,r as n,F as P,o as C,g as I,h as M,i as F,j as S}from"./index-C6GkaOyR.js";const c=k({name:"SettingView",setup(l,a){C(()=>{window.ipc&&window.ipc.sendInvoke("toMain",{event:"getUserDataProperty",params:"settings"}).then(m=>{m&&(u.form=m)})});const u=I({form:{dataBase:{host:"",user:"",password:"",database:"database1",port:3306,timezone:"+08:00"},pm:{reminder:!1,iteration:"迭代"},config:{basePath:""}},dialogVisible:!1,async selectFolder(){window.ipc&&await window.ipc.sendInvoke("toMain",{event:"select-folder"}).then(m=>{m&&(console.log(m),u.form.config.basePath=m[0])})},onSubmit(){window.ipc.sendInvoke("toMain",{event:"setUserDataJsonProperty",params:{key:"settings",value:JSON.stringify(u.form)}}).then(m=>{window.ipc.sendInvoke("toMain",{event:"getUserDataProperty",params:"settings"}).then(V=>{console.log(V)})})}});return{...M(u)}}}),N={class:"action-bar"};function $(l,a,u,m,V,z){const b=n("el-button"),r=n("el-input"),d=n("el-form-item"),s=n("el-col"),i=n("el-option"),w=n("el-select"),f=n("el-row"),_=n("el-divider"),g=n("el-switch"),v=n("el-form"),B=n("el-container");return F(),y(P,null,[p("div",N,[e(b,{type:"primary",onClick:l.onSubmit},{default:o(()=>a[9]||(a[9]=[S("确定")])),_:1},8,["onClick"])]),e(B,null,{default:o(()=>[e(v,{model:l.form,"label-width":"auto","label-position":"top"},{default:o(()=>[a[10]||(a[10]=p("h2",null,"数据库设置",-1)),e(f,{gutter:"20"},{default:o(()=>[e(s,{span:6},{default:o(()=>[e(d,{label:"Host"},{default:o(()=>[e(r,{modelValue:l.form.dataBase.url,"onUpdate:modelValue":a[0]||(a[0]=t=>l.form.dataBase.url=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:6},{default:o(()=>[e(d,{label:"账号"},{default:o(()=>[e(r,{modelValue:l.form.dataBase.user,"onUpdate:modelValue":a[1]||(a[1]=t=>l.form.dataBase.user=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:6},{default:o(()=>[e(d,{label:"密码"},{default:o(()=>[e(r,{modelValue:l.form.dataBase.password,"onUpdate:modelValue":a[2]||(a[2]=t=>l.form.dataBase.password=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:6},{default:o(()=>[e(d,{label:"端口号"},{default:o(()=>[e(r,{modelValue:l.form.dataBase.port,"onUpdate:modelValue":a[3]||(a[3]=t=>l.form.dataBase.port=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:6},{default:o(()=>[e(d,{label:"数据库"},{default:o(()=>[e(w,{modelValue:l.form.dataBase.schema,"onUpdate:modelValue":a[4]||(a[4]=t=>l.form.dataBase.schema=t),placeholder:"请选择"},{default:o(()=>[e(i,{label:"mysql",value:"mysql"}),e(i,{label:"database1",value:"database1"}),e(i,{label:"database2",value:"database2"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{span:6},{default:o(()=>[e(d,{label:"时区"},{default:o(()=>[e(r,{modelValue:l.form.dataBase.timezone,"onUpdate:modelValue":a[5]||(a[5]=t=>l.form.dataBase.timezone=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_),a[11]||(a[11]=p("h2",null,"提醒",-1)),e(f,{gutter:"20"},{default:o(()=>[e(s,{span:6},{default:o(()=>[e(d,{label:"是否开启提醒"},{default:o(()=>[e(g,{modelValue:l.form.pm.reminder,"onUpdate:modelValue":a[6]||(a[6]=t=>l.form.pm.reminder=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:6},{default:o(()=>[e(d,{label:"事项类型"},{default:o(()=>[e(w,{modelValue:l.form.pm.iteration,"onUpdate:modelValue":a[7]||(a[7]=t=>l.form.pm.iteration=t),placeholder:"请选择"},{default:o(()=>[e(i,{label:"迭代",value:"迭代"}),e(i,{label:"PI",value:"PI"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_),a[12]||(a[12]=p("h2",null,"全局",-1)),e(f,{gutter:"20"},{default:o(()=>[e(s,{span:12},{default:o(()=>[e(d,{label:"默认文件路径"},{default:o(()=>[e(r,{type:"text",modelValue:l.form.config.basePath,"onUpdate:modelValue":a[8]||(a[8]=t=>l.form.config.basePath=t)},{append:o(()=>[e(b,{icon:l.FolderOpened,onClick:l.selectFolder},null,8,["icon","onClick"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],64)}const q=U(c,[["render",$]]);export{q as default};
